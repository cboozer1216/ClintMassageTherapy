<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intake Form | TranquiLab Massage & BodyWork</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #2C3E36;
            --secondary: #5F7161;
            --bg-color: #FAF9F6;
            --card-bg: rgba(255, 255, 255, 0.96); /* Slight transparency for effect */
            --text: #3E3E3E;
        }

        body {
            font-family: 'Lato', sans-serif;
            color: var(--text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            
            /* Background Image Styles (Matched to Main Site) */
            background: linear-gradient(rgba(44, 62, 54, 0.6), rgba(44, 62, 54, 0.4)), url('background.jpeg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed; /* Parallax effect */
            min-height: 100vh;
        }

        /* MOBILE & TABLET FIXES (Matched to Main Site) */
        @media (max-width: 1024px) {
            body {
                background-attachment: scroll;
                background-position: center center;
            }
        }

        /* PORTRAIT FIX: Show left side (oils) on mobile portrait */
        @media (max-width: 1024px) and (orientation: portrait) {
            body {
                background-position: 15% center; 
            }
        }

        .container {
            max-width: 800px;
            margin: 3rem auto;
            background: var(--card-bg);
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            border-radius: 4px;
            position: relative; /* To sit above background */
        }

        /* Adjust margins for mobile to show background */
        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                padding: 1.5rem;
            }
        }

        .logo-img {
            display: block;
            margin: 0 auto 1rem auto;
            max-width: 180px;
            width: 100%;
            height: auto;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 {
            font-family: 'Great Vibes', cursive; /* Script font for title */
            color: var(--primary);
            text-align: center;
            margin-bottom: 0.5rem;
            font-size: 3.5rem;
            line-height: 1.1;
        }
        
        .sub-header {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: var(--secondary);
        }

        h3 {
            font-family: 'Playfair Display', serif;
            color: var(--secondary);
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            margin-top: 2.5rem;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .form-group {
            flex: 1;
            min-width: 250px;
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--primary);
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: 'Lato', sans-serif;
            box-sizing: border-box; /* Ensures padding doesn't affect width */
        }

        textarea {
            height: 100px;
            resize: vertical;
        }

        /* Checkbox groups */
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .checkbox-item input {
            margin-right: 8px;
        }

        /* Waiver */
        .waiver-box {
            background: #f9f9f9;
            padding: 20px;
            border: 1px solid #eee;
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .waiver-box ul {
            padding-left: 20px;
        }
        
        .waiver-box li {
            margin-bottom: 10px;
        }

        .btn-submit {
            background: var(--primary);
            color: white;
            padding: 15px 30px;
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
            width: 100%;
            font-family: 'Playfair Display', serif;
            transition: background 0.3s;
            margin-top: 2rem;
        }

        .btn-submit:hover {
            background: var(--secondary);
        }
        
        .back-link {
            display: block;
            width: fit-content;
            margin: 2rem auto;
            background-color: white;
            color: var(--primary);
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }
        
        .back-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            text-decoration: none;
        }

        /* Loading Overlay */
        #loading {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255,255,255,0.9);
            justify-content: center;
            align-items: center;
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary);
            z-index: 9999;
        }

    </style>
</head>
<body>

    <div class="container">
        <!-- Added Logo Here -->
        <img src="logo.jpeg" alt="TranquiLab Logo" class="logo-img">
        
        <h1>TranquiLab Massage & BodyWork</h1>
        <div class="sub-header">Client Intake Form</div>
        <p style="text-align: center;">Please complete this form before your session.</p>

        <!-- Form Action will be set by Javascript -->
        <form id="intakeForm">
            
            <h3>Personal Information</h3>
            <div class="form-row">
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" name="First Name" required>
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" name="Last Name" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Date of Birth</label>
                    <input type="date" name="Birthday" required>
                </div>
                <div class="form-group">
                    <label>Gender</label>
                    <select name="Gender">
                        <option value="">Select...</option>
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                        <option value="Non-binary">Non-binary</option>
                        <option value="Prefer not to say">Prefer not to say</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" name="Phone" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="Email" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Occupation</label>
                    <input type="text" name="Occupation">
                </div>
                <div class="form-group">
                    <label>Referred by</label>
                    <input type="text" name="Referred By">
                </div>
            </div>

            <div class="form-group">
                <label>Address</label>
                <input type="text" name="Address">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>City</label>
                    <input type="text" name="City">
                </div>
                <div class="form-group">
                    <label>State</label>
                    <input type="text" name="State">
                </div>
                <div class="form-group">
                    <label>Zip Code</label>
                    <input type="text" name="Zip">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Emergency Contact Name</label>
                    <input type="text" name="Emergency Contact">
                </div>
                <div class="form-group">
                    <label>Emergency Contact Phone</label>
                    <input type="tel" name="Emergency Phone">
                </div>
            </div>

            <h3>Reason for Visit</h3>
            <div class="form-group">
                <label>How would you rate your general health?</label>
                <select name="General Health">
                    <option value="Good">Good</option>
                    <option value="Excellent">Excellent</option>
                    <option value="Fair">Fair</option>
                    <option value="Poor">Poor</option>
                </select>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Have you ever had a professional massage?</label>
                    <select name="Professional Massage History">
                        <option value="No">No</option>
                        <option value="Yes">Yes</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>If yes, when was your last time?</label>
                    <input type="text" name="Last Massage Date">
                </div>
            </div>

            <div class="form-group">
                <label>Describe injuries, concerns, or issues to address (causes + dates):</label>
                <textarea name="Injuries or Concerns"></textarea>
            </div>

            <h3>Health History</h3>
            <p>Please check all that apply:</p>

            <label>Cardiovascular</label>
            <div class="checkbox-group">
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Congestive heart failure">Congestive heart failure</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Heart attack">Heart attack</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Stroke">Stroke</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="High blood pressure">High blood pressure</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Varicose veins">Varicose veins</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Pacemaker">Pacemaker</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Cardio" value="Heart disease">Heart disease</div>
            </div>

            <label>Musculoskeletal</label>
            <div class="checkbox-group">
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Arthritis">Arthritis</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Bursitis">Bursitis</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Tendonitis">Tendonitis</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Osteoporosis">Osteoporosis</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Artificial joint">Artificial joint</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Musculo" value="Jaw pain (TMJ)">Jaw pain (TMJ)</div>
            </div>

            <label>Head & Neck</label>
            <div class="checkbox-group">
                <div class="checkbox-item"><input type="checkbox" name="Health_Head" value="Headaches">Headaches</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Head" value="Migraines">Migraines</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Head" value="Dizziness">Dizziness</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Head" value="Vision/Hearing loss">Vision/Hearing loss</div>
            </div>

            <label>Miscellaneous</label>
            <div class="checkbox-group">
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Anxiety">Anxiety</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Diabetes">Diabetes</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Stress">Stress</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Depression">Depression</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Fibromyalgia">Fibromyalgia</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Cancer">Cancer</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Skin Conditions">Skin Conditions</div>
                <div class="checkbox-item"><input type="checkbox" name="Health_Misc" value="Pregnant">Pregnant</div>
            </div>

            <h3>Waiver & Signature</h3>
            <div class="waiver-box">
                <p>Please read and sign:</p>
                <ul>
                    <li>I understand that massage therapy is provided for stress reduction, relaxation, relief from muscular tension, and improvement of circulation and energy flow.</li>
                    <li>If I experience pain or discomfort during the session, I will immediately inform my therapist so that pressure/strokes can be adjusted to my level of comfort.</li>
                    <li>I understand that today's services are not a substitute for medical care and that my therapist is not qualified to diagnose, prescribe, or treat physical/mental illness.</li>
                    <li>I affirm that I have notified my therapist of all known medical conditions and injuries.</li>
                    <li>I waive and release my therapist from any liability, past, present, and future, relating to massage therapy and bodywork.</li>
                </ul>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Digital Signature (Type Full Name)</label>
                    <input type="text" name="Signature" required placeholder="I agree to the above...">
                </div>
                <div class="form-group">
                    <label>Date</label>
                    <input type="date" name="Signature Date" required>
                </div>
            </div>

            <button type="submit" class="btn-submit">Submit Form</button>
        </form>

        <a href="index.html" class="back-link">‚Üê Back to Home</a>
    </div>

    <!-- Loading Overlay -->
    <div id="loading">Submitting your form...</div>

    <script>
        // THIS IS THE CRITICAL PART
        // 1. You will create a Google Script (see instructions).
        // 2. You will get a URL (Web App URL).
        // 3. Paste that URL inside the quotes below:
        const scriptURL = 'PASTE_YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE';

        const form = document.forms['intakeForm'];
        const loading = document.getElementById('loading');

        form.addEventListener('submit', e => {
            e.preventDefault();
            
            if(scriptURL === 'PASTE_YOUR_GOOGLE_SCRIPT_WEB_APP_URL_HERE') {
                alert("Please follow the setup instructions to connect your Google Sheet first!");
                return;
            }

            loading.style.display = 'flex';

            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                .then(response => {
                    loading.style.display = 'none';
                    alert("Thank you! Your intake form has been submitted.");
                    window.location.href = "index.html"; // Redirect home
                })
                .catch(error => {
                    loading.style.display = 'none';
                    alert('Error!', error.message);
                });
        });
    </script>

</body>
</html>